<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.18.1.final using JasperReports Library version 6.18.1-9d75d1969e774d4f179fb3be8401e98a0e6d1611  -->
<jasperReport xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="annexes" pageWidth="550" pageHeight="550" columnWidth="550" leftMargin="0" rightMargin="0"
              topMargin="0" bottomMargin="0" uuid="51f5e4cf-488d-4580-a0b9-e21e9be84b1c">
    <property name="com.jaspersoft.studio.data.sql.tables">
        <![CDATA[dF90aW1lc2hlZXQgLDMwLDI5NyxkYmFlNzk1YS05YjViLTQ3OTAtYWNjOS0xZjQ1M2ExMjczNzU7
dF9mYWN0dXJlX3RpbWVzaGVldCAsMTc4LDI5NyxmOTA1ZmNkZS01NDI2LTRhODAtOTQyMi1hZGNh
NTUxZDVmMTk7dF9mcmFpcyAsMTU0NSwzMCxjMTg1NTVkMC0wMzY1LTRmN2QtOTEyZS04NWU1YTEz
MWMxYzQ7dF9mYWN0dXJlX2ZyYWlzX2RlYm91cnMgLDcxNywyOTgsZGIxYmJlNzgtY2YwZS00ZDll
LTkyNGMtMzY1MTdhYzYwM2ZhO3RfZmFjdHVyZV9mcmFpc19jb2xsYWJvcmF0aW9uICwxMzE5LDQw
Niw5YTA5MzgxZi04MzdlLTQ4MzQtYjFlYi1lMzNmNjZmZmM3YmQ7cmVmX3Bvc3RlICwxMDk4LDE1
Miw4MGIzMzRlMi0xMWY5LTQ1ZmItODA4Yi0wNjQ2Y2IwNmJkMjQ7dF9mcmFpcyAsOTE0LDMwLDAx
NTBiOTdmLTEyZmItNGE2My05NDBjLTRkZjY4MjEwZTY1YztyZWZfcG9zdGUgLDEzMTksNDUsNjE4
NjQyNGMtM2Q2ZC00Mzc2LWFkM2EtZDQwMzNiNTE2MWEwO3RfZGVib3VyICwzNzcsMjk3LDg5M2E3
ZjI0LWMzOTYtNDM5NS1iMDZmLTkwYmNhMzM5NTJkMjt0X2ZhY3R1cmVfZnJhaXNfYWRtaW4gLDUw
OCwyOTcsOWEwNDEzMTgtYzNkZS00ZTM2LThhNDYtZjI4NjBkZjRmZTBhOw==]]>
    </property>
    <property name="com.jaspersoft.studio.data.defaultdataadapter" value="DataAdapter.xml"/>
    <property name="com.jaspersoft.studio.unit." value="pixel"/>
    <property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
    <property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
    <style name="Table_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.5" lineColor="#000000"/>
            <leftPen lineWidth="0.5" lineColor="#000000"/>
            <bottomPen lineWidth="0.5" lineColor="#000000"/>
            <rightPen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="Table_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.5" lineColor="#000000"/>
            <leftPen lineWidth="0.5" lineColor="#000000"/>
            <bottomPen lineWidth="0.5" lineColor="#000000"/>
            <rightPen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="Table_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.5" lineColor="#000000"/>
            <leftPen lineWidth="0.5" lineColor="#000000"/>
            <bottomPen lineWidth="0.5" lineColor="#000000"/>
            <rightPen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="Table 1_TH" mode="Opaque" backcolor="#F0F8FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.5" lineColor="#000000"/>
            <leftPen lineWidth="0.5" lineColor="#000000"/>
            <bottomPen lineWidth="0.5" lineColor="#000000"/>
            <rightPen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="Table 1_CH" mode="Opaque" backcolor="#BFE1FF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.5" lineColor="#000000"/>
            <leftPen lineWidth="0.5" lineColor="#000000"/>
            <bottomPen lineWidth="0.5" lineColor="#000000"/>
            <rightPen lineWidth="0.5" lineColor="#000000"/>
        </box>
    </style>
    <style name="Table 1_TD" mode="Opaque" backcolor="#FFFFFF">
        <box>
            <pen lineWidth="0.5" lineColor="#000000"/>
            <topPen lineWidth="0.5" lineColor="#000000"/>
            <leftPen lineWidth="0.5" lineColor="#000000"/>
            <bottomPen lineWidth="0.5" lineColor="#000000"/>
            <rightPen lineWidth="0.5" lineColor="#000000"/>
        </box>
        <conditionalStyle>
            <conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
            <style backcolor="#FBFDFF"/>
        </conditionalStyle>
    </style>
    <subDataset name="prestation_ds" uuid="8bac487c-d6e5-4e31-b547-e9c01d065ac4">
        <property name="com.jaspersoft.studio.data.sql.tables" value=""/>
        <property name="com.jaspersoft.studio.data.defaultdataadapter" value="dev avogest"/>
        <parameter name="id_facture" class="java.lang.Integer">
            <defaultValueExpression><![CDATA[$P{id_facture}]]></defaultValueExpression>
        </parameter>
        <parameter name="currency" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{currency}]]></defaultValueExpression>
        </parameter>
        <parameter name="lbl_desc" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{lbl_desc}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_htva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_htva}]]></defaultValueExpression>
        </parameter>
        <parameter name="tax" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{tax}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_tva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_tva}]]></defaultValueExpression>
        </parameter>
        <queryString language="SQL">
            <![CDATA[select sheet.vat tva, tt.description,
sheet.date_action,
	round(  if( sheet.is_forfait = 0, ((sheet.dh * 60+sheet.dm) / 60) * sheet.couthoraire , sheet.forfait_ht),2) cout_htva ,
	round(  if( sheet.is_forfait = 0, (((sheet.dh * 60+sheet.dm) / 60) * sheet.couthoraire ) * (1+sheet.vat/100) , sheet.forfait_ht * (1+sheet.vat/100)) ,2 ) cout
	from t_timesheet sheet
	INNER JOIN t_facture_timesheet ft ON ft.TS_ID = sheet.id_ts
    inner join t_timesheet_type tt on tt.id_ts = sheet.ts_type
    where  ft.FACTURE_ID = $P{id_facture}]]>
        </queryString>
        <field name="tva" class="java.math.BigDecimal">
            <property name="com.jaspersoft.studio.field.name" value="vat"/>
            <property name="com.jaspersoft.studio.field.label" value="tva"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_timesheet"/>
        </field>
        <field name="description" class="java.lang.String">
            <property name="com.jaspersoft.studio.field.name" value="description"/>
            <property name="com.jaspersoft.studio.field.label" value="description"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_timesheet_type"/>
        </field>
        <field name="date_action" class="java.sql.Date">
            <property name="com.jaspersoft.studio.field.name" value="date_action"/>
            <property name="com.jaspersoft.studio.field.label" value="date_action"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_timesheet"/>
        </field>
        <field name="cout_htva" class="java.lang.Double">
            <property name="com.jaspersoft.studio.field.name" value="cout_htva"/>
            <property name="com.jaspersoft.studio.field.label" value="cout_htva"/>
        </field>
        <field name="cout" class="java.lang.Double">
            <property name="com.jaspersoft.studio.field.name" value="cout"/>
            <property name="com.jaspersoft.studio.field.label" value="cout"/>
        </field>
    </subDataset>
    <subDataset name="ds_frais_admin" uuid="02eeada0-cff2-462c-9272-310b83d0671e">
        <property name="com.jaspersoft.studio.data.sql.tables" value=""/>
        <property name="com.jaspersoft.studio.data.defaultdataadapter" value="DataAdapter.xml"/>
        <parameter name="id_facture" class="java.lang.Integer">
            <defaultValueExpression><![CDATA[$P{id_facture}]]></defaultValueExpression>
        </parameter>
        <parameter name="currency" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{currency}]]></defaultValueExpression>
        </parameter>
        <parameter name="lbl_desc" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{lbl_desc}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_htva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_htva}]]></defaultValueExpression>
        </parameter>
        <parameter name="tax" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{tax}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_tva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_tva}]]></defaultValueExpression>
        </parameter>
        <parameter name="fraisAdminList" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource">
            <defaultValueExpression><![CDATA[$P{fraisAdminList}]]></defaultValueExpression>
        </parameter>
        <queryString language="SQL">
            <![CDATA[]]>
        </queryString>
        <field name="type" class="java.lang.String">
            <property name="com.jaspersoft.studio.field.name" value="description"/>
            <property name="com.jaspersoft.studio.field.label" value="type"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_debour_type"/>
        </field>
        <field name="mesure" class="java.lang.String">
            <property name="com.jaspersoft.studio.field.name" value="description"/>
            <property name="com.jaspersoft.studio.field.label" value="mesure"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_mesure_type"/>
        </field>
        <field name="pricePerUnit" class="java.math.BigDecimal">
            <property name="com.jaspersoft.studio.field.name" value="price_per_unit"/>
            <property name="com.jaspersoft.studio.field.label" value="price_per_unit"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_debour"/>
            <fieldDescription><![CDATA[]]></fieldDescription>
        </field>
        <field name="unit" class="java.lang.Integer">
            <property name="com.jaspersoft.studio.field.name" value="unit"/>
            <property name="com.jaspersoft.studio.field.label" value="unit"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_debour"/>
            <fieldDescription><![CDATA[]]></fieldDescription>
        </field>
    </subDataset>
    <subDataset name="ds_debours" uuid="906893f2-ce8f-456c-9a00-02bddd9b8fe6">
        <property name="com.jaspersoft.studio.data.sql.tables" value=""/>
        <property name="com.jaspersoft.studio.data.defaultdataadapter" value="dev avogest"/>
        <parameter name="id_facture" class="java.lang.Integer">
            <defaultValueExpression><![CDATA[$P{id_facture}]]></defaultValueExpression>
        </parameter>
        <parameter name="currency" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{currency}]]></defaultValueExpression>
        </parameter>
        <parameter name="lbl_desc" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{lbl_desc}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_htva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_htva}]]></defaultValueExpression>
        </parameter>
        <parameter name="tax" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{tax}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_tva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_tva}]]></defaultValueExpression>
        </parameter>
        <queryString language="SQL">
            <![CDATA[select poste.ref_poste poste,
       concat(client.f_nom, ' ', client.f_prenom) tiers,
       sheet.montantht,
       sheet.tva,
       sheet.montant
from t_frais sheet
         inner join ref_poste poste on poste.id_poste = sheet.id_poste
         left join t_clients client on client.id_client = sheet.id_client
         INNER JOIN t_facture_frais_debours ft ON ft.FRAIS_ID = sheet.id_frais
where  ft.FACTURE_ID = $P{id_facture}
and poste.is_frais_procedure = 1]]>
        </queryString>
        <field name="poste" class="java.lang.String">
            <property name="com.jaspersoft.studio.field.name" value="ref_poste"/>
            <property name="com.jaspersoft.studio.field.label" value="poste"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="ref_poste"/>
        </field>
        <field name="tiers" class="java.lang.String">
            <property name="com.jaspersoft.studio.field.name" value="tiers"/>
            <property name="com.jaspersoft.studio.field.label" value="tiers"/>
        </field>
        <field name="montantht" class="java.math.BigDecimal">
            <property name="com.jaspersoft.studio.field.name" value="montantht"/>
            <property name="com.jaspersoft.studio.field.label" value="montantht"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_frais"/>
            <fieldDescription><![CDATA[]]></fieldDescription>
        </field>
        <field name="tva" class="java.lang.Integer">
            <property name="com.jaspersoft.studio.field.name" value="tva"/>
            <property name="com.jaspersoft.studio.field.label" value="tva"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_frais"/>
            <fieldDescription><![CDATA[deprecated]]></fieldDescription>
        </field>
        <field name="montant" class="java.math.BigDecimal">
            <property name="com.jaspersoft.studio.field.name" value="montant"/>
            <property name="com.jaspersoft.studio.field.label" value="montant"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_frais"/>
            <fieldDescription><![CDATA[]]></fieldDescription>
        </field>
    </subDataset>
    <subDataset name="ds_frais_colla" uuid="e339cede-685b-455e-b33b-a5fc49eec500">
        <property name="com.jaspersoft.studio.data.sql.tables" value=""/>
        <property name="com.jaspersoft.studio.data.defaultdataadapter" value="dev avogest"/>
        <parameter name="id_facture" class="java.lang.Integer">
            <defaultValueExpression><![CDATA[$P{id_facture}]]></defaultValueExpression>
        </parameter>
        <parameter name="currency" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{currency}]]></defaultValueExpression>
        </parameter>
        <parameter name="lbl_desc" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{lbl_desc}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_htva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_htva}]]></defaultValueExpression>
        </parameter>
        <parameter name="tax" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{tax}]]></defaultValueExpression>
        </parameter>
        <parameter name="label_tva" class="java.lang.String">
            <defaultValueExpression><![CDATA[$P{label_tva}]]></defaultValueExpression>
        </parameter>
        <queryString language="SQL">
            <![CDATA[select poste.ref_poste poste,
       concat(coalesce(client.f_nom, ''), ' ', coalesce(client.f_prenom, '')) tiers,
       sheet.montantht,
       sheet.tva,
       sheet.montant
from t_frais sheet
         inner join ref_poste poste on poste.id_poste = sheet.id_poste
         left join t_clients client on client.id_client = sheet.id_client
         INNER JOIN t_facture_frais_collaboration ft ON ft.FRAIS_ID = sheet.id_frais
where  ft.FACTURE_ID = $P{id_facture}
and poste.is_frais_collaboration = 1]]>
        </queryString>
        <field name="poste" class="java.lang.String">
            <property name="com.jaspersoft.studio.field.name" value="ref_poste"/>
            <property name="com.jaspersoft.studio.field.label" value="poste"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="ref_poste"/>
        </field>
        <field name="tiers" class="java.lang.String">
            <property name="com.jaspersoft.studio.field.name" value="tiers"/>
            <property name="com.jaspersoft.studio.field.label" value="tiers"/>
        </field>
        <field name="montantht" class="java.math.BigDecimal">
            <property name="com.jaspersoft.studio.field.name" value="montantht"/>
            <property name="com.jaspersoft.studio.field.label" value="montantht"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_frais"/>
            <fieldDescription><![CDATA[]]></fieldDescription>
        </field>
        <field name="tva" class="java.lang.Integer">
            <property name="com.jaspersoft.studio.field.name" value="tva"/>
            <property name="com.jaspersoft.studio.field.label" value="tva"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_frais"/>
            <fieldDescription><![CDATA[deprecated]]></fieldDescription>
        </field>
        <field name="montant" class="java.math.BigDecimal">
            <property name="com.jaspersoft.studio.field.name" value="montant"/>
            <property name="com.jaspersoft.studio.field.label" value="montant"/>
            <property name="com.jaspersoft.studio.field.tree.path" value="t_frais"/>
            <fieldDescription><![CDATA[]]></fieldDescription>
        </field>
    </subDataset>
    <parameter name="label_prestation" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{label_prestation}]]></defaultValueExpression>
    </parameter>
    <parameter name="lbl_annexe" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{lbl_annexe}]]></defaultValueExpression>
    </parameter>
    <parameter name="id_facture" class="java.lang.Integer">
        <defaultValueExpression><![CDATA[$P{id_facture}]]></defaultValueExpression>
    </parameter>
    <parameter name="vcKey" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{vcKey}]]></defaultValueExpression>
    </parameter>
    <parameter name="currency" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{currency}]]></defaultValueExpression>
    </parameter>
    <parameter name="lbl_frais_admin" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{lbl_frais_admin}]]></defaultValueExpression>
    </parameter>
    <parameter name="lbl_debours" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{lbl_debours}]]></defaultValueExpression>
    </parameter>
    <parameter name="lbl_collab" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{lbl_collab}]]></defaultValueExpression>
    </parameter>
    <parameter name="lbl_desc" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{lbl_desc}]]></defaultValueExpression>
    </parameter>
    <parameter name="label_htva" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{label_htva}]]></defaultValueExpression>
    </parameter>
    <parameter name="tax" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{tax}]]></defaultValueExpression>
    </parameter>
    <parameter name="label_tva" class="java.lang.String">
        <defaultValueExpression><![CDATA[$P{label_tva}]]></defaultValueExpression>
    </parameter>
    <parameter name="fraisAdminList" class="net.sf.jasperreports.engine.data.JRBeanCollectionDataSource">
        <defaultValueExpression><![CDATA[$P{fraisAdminList}]]></defaultValueExpression>
    </parameter>
    <queryString>
        <![CDATA[select ts_count.nb ts_nb, frais_adm_count.nb fraisadm_nb,
       frais_debours.nb debours_nb,
       frais_colla.nb colla_nb
from (
         select count(sheet.id_doss) nb
         from t_timesheet sheet
                  INNER JOIN t_facture_timesheet ft ON ft.TS_ID = sheet.id_ts
         where  ft.FACTURE_ID = $P{id_facture}
         ) ts_count,
     (
         select count(sheet.id_doss) nb
         from t_debour sheet
                  INNER JOIN t_facture_frais_admin ft ON ft.DEBOURS_ID = sheet.id_debour
         where  ft.FACTURE_ID = $P{id_facture}
         ) frais_adm_count,
     (
         select count(frais.id_doss) nb
         from t_frais frais
                  INNER JOIN ref_poste poste on poste.id_poste = frais.id_poste
                  INNER JOIN t_facture_frais_debours ft ON ft.FRAIS_ID = frais.id_frais
         where  ft.FACTURE_ID = $P{id_facture}
         and poste.is_frais_procedure = 1
         ) frais_debours,
     (
         select count(frais.id_doss) nb
         from t_frais frais
                  INNER JOIN ref_poste poste on poste.id_poste = frais.id_poste
                  INNER JOIN t_facture_frais_collaboration ft ON ft.FRAIS_ID = frais.id_frais
         where  ft.FACTURE_ID = $P{id_facture}
           and poste.is_frais_collaboration = 1
     ) frais_colla]]>
    </queryString>
    <field name="ts_nb" class="java.lang.Long">
        <property name="com.jaspersoft.studio.field.name" value="nb"/>
        <property name="com.jaspersoft.studio.field.label" value="ts_nb"/>
    </field>
    <field name="fraisadm_nb" class="java.lang.Long">
        <property name="com.jaspersoft.studio.field.name" value="nb"/>
        <property name="com.jaspersoft.studio.field.label" value="fraisadm_nb"/>
    </field>
    <field name="debours_nb" class="java.lang.Long">
        <property name="com.jaspersoft.studio.field.name" value="nb"/>
        <property name="com.jaspersoft.studio.field.label" value="debours_nb"/>
    </field>
    <field name="colla_nb" class="java.lang.Long">
        <property name="com.jaspersoft.studio.field.name" value="nb"/>
        <property name="com.jaspersoft.studio.field.label" value="colla_nb"/>
    </field>
    <filterExpression>
        <![CDATA[$F{ts_nb} > 0 || $F{fraisadm_nb} > 0 || $F{debours_nb} > 0 || $F{colla_nb} > 0]]></filterExpression>
    <background>
        <band splitType="Stretch"/>
    </background>
    <detail>
        <band height="550">
            <property name="com.jaspersoft.studio.unit.height" value="px"/>
            <frame>
                <reportElement x="0" y="9" width="550" height="528" isRemoveLineWhenBlank="true"
                               uuid="4eb4e0fa-0853-4292-b90a-f2740fbeba8f">
                    <printWhenExpression>
                        <![CDATA[$F{ts_nb} > 0 || $F{fraisadm_nb} > 0 || $F{debours_nb} > 0 || $F{colla_nb} > 0]]></printWhenExpression>
                </reportElement>
                <textField>
                    <reportElement x="10" y="37" width="157" height="30" isRemoveLineWhenBlank="true"
                                   uuid="dc640267-bd02-45b9-816f-6252775acdad">
                        <property name="com.jaspersoft.studio.unit.y" value="px"/>
                        <printWhenExpression><![CDATA[$F{ts_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <textElement>
                        <font size="14" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{label_prestation}]]></textFieldExpression>
                </textField>
                <componentElement>
                    <reportElement x="7" y="67" width="540" height="80" isRemoveLineWhenBlank="true"
                                   uuid="c89c4f3d-8141-4803-b0cc-2b727f6a4444">
                        <property name="com.jaspersoft.studio.layout"
                                  value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
                        <property name="com.jaspersoft.studio.table.style.table_header" value="Table 1_TH"/>
                        <property name="com.jaspersoft.studio.table.style.column_header" value="Table 1_CH"/>
                        <property name="com.jaspersoft.studio.table.style.detail" value="Table 1_TD"/>
                        <property name="com.jaspersoft.studio.components.autoresize.proportional" value="true"/>
                        <property name="com.jaspersoft.studio.unit.width" value="px"/>
                        <printWhenExpression><![CDATA[$F{ts_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components"
                              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                        <datasetRun subDataset="prestation_ds" uuid="ab551fa6-4e82-4035-b0c6-9e7a6d076f53">
                            <datasetParameter name="id_facture">
                                <datasetParameterExpression><![CDATA[$P{id_facture}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="currency">
                                <datasetParameterExpression><![CDATA[$P{currency}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_htva">
                                <datasetParameterExpression><![CDATA[$P{label_htva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="lbl_desc">
                                <datasetParameterExpression><![CDATA[$P{lbl_desc}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="tax">
                                <datasetParameterExpression><![CDATA[$P{tax}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_tva">
                                <datasetParameterExpression><![CDATA[$P{label_tva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
                        </datasetRun>
                        <jr:column width="214" uuid="18832325-7bc2-4cad-90bd-b0e8b84027d7">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="214" height="30"
                                                   uuid="5f39af32-3af5-4586-bccf-03bbb3bb5782">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{lbl_desc}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="214" height="30"
                                                   uuid="48bd0f0a-f3a5-4ebc-9992-0deaff178a7a"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{description}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="96" uuid="3e723a92-7552-449d-97fa-b2fab0a4c90c">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <staticText>
                                    <reportElement x="0" y="0" width="96" height="30"
                                                   uuid="2718ee40-01e6-4b49-8fd4-63e727173eb3"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textElement>
                                        <font isBold="true"/>
                                    </textElement>
                                    <text><![CDATA[Date]]></text>
                                </staticText>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField pattern="yyyy-MM-dd">
                                    <reportElement x="0" y="0" width="96" height="30"
                                                   uuid="04a7abff-9367-42e1-8ee7-f9cafc5baea7"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{date_action}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="80" uuid="0d1fd58d-50d2-4c48-b954-48902c7b283a">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="80" height="30"
                                                   uuid="26246d4a-2221-4359-a0fb-cffae92905f2">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{label_htva}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="80" height="30"
                                                   uuid="c97bea5c-e54d-42bb-beed-1bbc4c794ebd"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression>
                                        <![CDATA[new java.text.DecimalFormat("#,##0.00").format($F{cout_htva})+" "+$P{currency}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="71" uuid="042043ed-ae22-40ca-b618-1007eafef3e9">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="71" height="30"
                                                   uuid="0756cf98-5fee-4fbf-ad98-f24e59ac42e9">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{tax}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="71" height="30"
                                                   uuid="ab8866da-0575-4cff-a35d-e6b193670967"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{tva} +"%"]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="79" uuid="5c5fa22f-84bd-460e-9cdd-9e502c083c97">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="79" height="30"
                                                   uuid="eb5aaa1c-f29b-432e-8c38-2e2f1a6ce233">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{label_tva}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="79" height="30"
                                                   uuid="fb553525-97ee-4641-abb5-a7719043b5fd"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression>
                                        <![CDATA[new java.text.DecimalFormat("#,##0.00").format($F{cout})+" "+$P{currency}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                    </jr:table>
                </componentElement>
                <componentElement>
                    <reportElement positionType="Float" x="4" y="190" width="546" height="80"
                                   isRemoveLineWhenBlank="true" uuid="2397e4cb-48dc-4315-91d2-c432ef436cda">
                        <property name="com.jaspersoft.studio.layout"
                                  value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
                        <property name="com.jaspersoft.studio.table.style.table_header" value="Table 1_TH"/>
                        <property name="com.jaspersoft.studio.table.style.column_header" value="Table 1_CH"/>
                        <property name="com.jaspersoft.studio.table.style.detail" value="Table 1_TD"/>
                        <property name="com.jaspersoft.studio.components.autoresize.proportional" value="true"/>
                        <property name="com.jaspersoft.studio.unit.width" value="px"/>
                        <printWhenExpression><![CDATA[$F{fraisadm_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components"
                              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                        <datasetRun subDataset="ds_frais_admin" uuid="2b9f2469-edfc-4579-ab0a-95abab1e31f9">
                            <datasetParameter name="id_facture">
                                <datasetParameterExpression><![CDATA[$P{id_facture}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="currency">
                                <datasetParameterExpression><![CDATA[$P{currency}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_htva">
                                <datasetParameterExpression><![CDATA[$P{label_htva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="lbl_desc">
                                <datasetParameterExpression><![CDATA[$P{lbl_desc}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="tax">
                                <datasetParameterExpression><![CDATA[$P{tax}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_tva">
                                <datasetParameterExpression><![CDATA[$P{label_tva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="fraisAdminList">
                                <datasetParameterExpression><![CDATA[$P{fraisAdminList}]]></datasetParameterExpression>
                            </datasetParameter>
                            <dataSourceExpression><![CDATA[$P{fraisAdminList}]]></dataSourceExpression>
                        </datasetRun>
                        <jr:column width="200" uuid="93630150-436e-4990-8f8e-e81d1e5851b9">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="200" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{lbl_desc}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="200" height="30"
                                                   uuid="f9075373-5a66-45d9-9c6c-81f34a253cac">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$F{type}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="168" uuid="a1f8b8b1-3bf2-4696-8718-5926abb592fc">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <staticText>
                                    <reportElement x="0" y="0" width="168" height="30"
                                                   uuid="06e5e79d-f2aa-4fc4-a146-bd106f2da6d9"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textElement>
                                        <font isBold="true"/>
                                    </textElement>
                                    <text><![CDATA[Mesure]]></text>
                                </staticText>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="168" height="30"
                                                   uuid="d0399cf2-fee0-4a69-8376-6c8e24b3aded">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$F{mesure}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="88" uuid="836a2724-3319-4e1f-841d-fdce37f0fac3">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <staticText>
                                    <reportElement x="0" y="0" width="88" height="30"
                                                   uuid="9d86299c-bb41-4349-bcf8-af2bc23c4a5a"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textElement>
                                        <font isBold="true"/>
                                    </textElement>
                                    <text><![CDATA[Prix unit.]]></text>
                                </staticText>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="88" height="30"
                                                   uuid="e39951fc-963a-4de5-8a12-ebb792327d2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression>
                                        <![CDATA[$F{pricePerUnit} +" "+ $P{currency}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="90" uuid="646735b3-f957-4b49-8c2e-2219dee47e13">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <staticText>
                                    <reportElement x="0" y="0" width="90" height="30"
                                                   uuid="6179ef48-4e26-442a-bf39-614cc797b856"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textElement>
                                        <font isBold="true"/>
                                    </textElement>
                                    <text><![CDATA[Unit.]]></text>
                                </staticText>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="90" height="30"
                                                   uuid="863399b0-e024-4586-83db-0e0f1476e877">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$F{unit}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                    </jr:table>
                </componentElement>
                <textField>
                    <reportElement positionType="Float" x="10" y="270" width="157" height="30"
                                   isRemoveLineWhenBlank="true" uuid="91377c79-6c8c-4244-962f-6b9383d739dc">
                        <property name="com.jaspersoft.studio.unit.y" value="px"/>
                        <printWhenExpression><![CDATA[$F{debours_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <textElement>
                        <font size="14" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{lbl_debours}]]></textFieldExpression>
                </textField>
                <textField>
                    <reportElement positionType="Float" x="10" y="153" width="157" height="30"
                                   isRemoveLineWhenBlank="true" uuid="c7016124-b4d3-40d8-9454-36444394eda9">
                        <property name="com.jaspersoft.studio.unit.y" value="px"/>
                        <printWhenExpression><![CDATA[$F{fraisadm_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <textElement>
                        <font size="14" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{lbl_frais_admin}]]></textFieldExpression>
                </textField>
                <componentElement>
                    <reportElement positionType="Float" x="4" y="300" width="542" height="80"
                                   isRemoveLineWhenBlank="true" uuid="3fb40314-848a-4b8f-998a-0a04d49a3600">
                        <property name="com.jaspersoft.studio.layout"
                                  value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
                        <property name="com.jaspersoft.studio.table.style.table_header" value="Table 1_TH"/>
                        <property name="com.jaspersoft.studio.table.style.column_header" value="Table 1_CH"/>
                        <property name="com.jaspersoft.studio.table.style.detail" value="Table 1_TD"/>
                        <property name="com.jaspersoft.studio.components.autoresize.proportional" value="true"/>
                        <property name="com.jaspersoft.studio.unit.width" value="px"/>
                        <printWhenExpression><![CDATA[$F{debours_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components"
                              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                        <datasetRun subDataset="ds_debours" uuid="3623e822-0daf-4eda-a741-363a08cbcb37">
                            <datasetParameter name="id_facture">
                                <datasetParameterExpression><![CDATA[$P{id_facture}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="currency">
                                <datasetParameterExpression><![CDATA[$P{currency}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_htva">
                                <datasetParameterExpression><![CDATA[$P{label_htva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="lbl_desc">
                                <datasetParameterExpression><![CDATA[$P{lbl_desc}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="tax">
                                <datasetParameterExpression><![CDATA[$P{tax}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_tva">
                                <datasetParameterExpression><![CDATA[$P{label_tva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
                        </datasetRun>
                        <jr:column width="231" uuid="06bbf73a-5769-4a30-83e8-57f6bcfddcf1">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="231" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{lbl_desc}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="231" height="30"
                                                   uuid="40dc2110-6450-4ce8-8ea8-c969c2473ba7"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{poste}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="104" uuid="136e1280-7d84-443e-8bd8-91aa9b180fac">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <staticText>
                                    <reportElement x="0" y="0" width="104" height="30"
                                                   uuid="0a062fd9-8fc2-4ce6-8624-0c89b3a74b98"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textElement>
                                        <font isBold="true"/>
                                    </textElement>
                                    <text><![CDATA[Tiers]]></text>
                                </staticText>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField pattern="yyyy-MM-dd">
                                    <reportElement x="0" y="0" width="104" height="30"
                                                   uuid="9ef85624-0e33-4a97-9b17-f8ab4ec25258"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{tiers}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="87" uuid="1b5bf5e5-aec4-4b4e-9181-ee8a1f0fe647">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="87" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{label_htva}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="87" height="30"
                                                   uuid="5ff658d1-96b6-46b6-b640-3c73b85ec55e"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression>
                                        <![CDATA[$F{montantht}+" "+$P{currency}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="36" uuid="abeb12f7-5f10-47a8-b1c4-1144ff209f34">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="36" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{tax}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="36" height="30"
                                                   uuid="42abe89f-e855-4778-8350-3d28d86f3f0e"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{tva} + "%"]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="84" uuid="567786d3-988d-43c7-83b6-7287cef0bb6f">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="84" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{label_tva}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="84" height="30"
                                                   uuid="53f9765d-1ac9-4679-aa53-3f4f929f0bd5"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{montant}+" "+$P{currency}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                    </jr:table>
                </componentElement>
                <textField>
                    <reportElement positionType="Float" x="10" y="385" width="157" height="30"
                                   isRemoveLineWhenBlank="true" uuid="3e7d287c-07c7-42ef-aa45-a8399589821a">
                        <property name="com.jaspersoft.studio.unit.y" value="px"/>
                        <printWhenExpression><![CDATA[$F{colla_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <textElement>
                        <font size="14" isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{lbl_collab}]]></textFieldExpression>
                </textField>
                <componentElement>
                    <reportElement positionType="Float" x="4" y="420" width="537" height="80"
                                   isRemoveLineWhenBlank="true" uuid="12afea95-d0db-4984-a3db-787868c5b0a8">
                        <property name="com.jaspersoft.studio.layout"
                                  value="com.jaspersoft.studio.editor.layout.VerticalRowLayout"/>
                        <property name="com.jaspersoft.studio.table.style.table_header" value="Table 1_TH"/>
                        <property name="com.jaspersoft.studio.table.style.column_header" value="Table 1_CH"/>
                        <property name="com.jaspersoft.studio.table.style.detail" value="Table 1_TD"/>
                        <property name="com.jaspersoft.studio.components.autoresize.proportional" value="true"/>
                        <property name="com.jaspersoft.studio.unit.width" value="px"/>
                        <printWhenExpression><![CDATA[$F{colla_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components"
                              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
                        <datasetRun subDataset="ds_frais_colla" uuid="460af9a2-39c4-423f-8923-21973c81f6ad">
                            <datasetParameter name="id_facture">
                                <datasetParameterExpression><![CDATA[$P{id_facture}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="currency">
                                <datasetParameterExpression><![CDATA[$P{currency}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_htva">
                                <datasetParameterExpression><![CDATA[$P{label_htva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="lbl_desc">
                                <datasetParameterExpression><![CDATA[$P{lbl_desc}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="tax">
                                <datasetParameterExpression><![CDATA[$P{tax}]]></datasetParameterExpression>
                            </datasetParameter>
                            <datasetParameter name="label_tva">
                                <datasetParameterExpression><![CDATA[$P{label_tva}]]></datasetParameterExpression>
                            </datasetParameter>
                            <connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
                        </datasetRun>
                        <jr:column width="229" uuid="07750a14-961e-4de1-a47d-7d8948cd4fbb">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column1"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="229" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{lbl_desc}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="229" height="30"
                                                   uuid="c99b75fb-64ba-4610-b3a5-8dd9f4be1a4c"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{poste}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="103" uuid="db747d33-391f-45d6-a3c1-04d2da7c9873">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column2"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <staticText>
                                    <reportElement x="0" y="0" width="103" height="30"
                                                   uuid="207f999b-b61b-4e88-b6b8-5b2f8fa3a116"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textElement>
                                        <font isBold="true"/>
                                    </textElement>
                                    <text><![CDATA[Tiers]]></text>
                                </staticText>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField pattern="yyyy-MM-dd">
                                    <reportElement x="0" y="0" width="103" height="30"
                                                   uuid="c03b8dfe-5809-4bb1-b6dd-0ff56ad8f59e"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{tiers}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="86" uuid="43dd8bd0-2578-409c-a941-cf95fbcaf6ce">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column3"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="86" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{label_htva}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="86" height="30"
                                                   uuid="9d0bc7d1-5d90-4ebb-ad10-d4c30b23b2b8"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression>
                                        <![CDATA[$F{montantht}+" "+$P{currency}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="36" uuid="dedb913f-a078-4571-ac07-8da647172e72">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column4"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="36" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{tax}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="36" height="30"
                                                   uuid="79d8e3bd-5891-46eb-b3f0-d3710438c624"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{tva} + "%"]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                        <jr:column width="83" uuid="ddfc9a3d-fc3a-424b-ada5-55aed74ff4e1">
                            <property name="com.jaspersoft.studio.components.table.model.column.name" value="Column5"/>
                            <jr:tableHeader style="Table 1_TH" height="30" rowSpan="1">
                                <textField>
                                    <reportElement x="0" y="0" width="83" height="30"
                                                   uuid="d19c508d-7761-438b-accc-ed6157bc9f2c">
                                        <property name="com.jaspersoft.studio.unit.leftIndent" value="px"/>
                                    </reportElement>
                                    <textElement verticalAlignment="Middle">
                                        <font isBold="true"/>
                                        <paragraph leftIndent="5"/>
                                    </textElement>
                                    <textFieldExpression><![CDATA[$P{label_tva}]]></textFieldExpression>
                                </textField>
                            </jr:tableHeader>
                            <jr:detailCell style="Table 1_TD" height="30">
                                <textField>
                                    <reportElement x="0" y="0" width="83" height="30"
                                                   uuid="57875318-908b-4bd1-b7d0-4fadefb4df6c"/>
                                    <box topPadding="5" leftPadding="5"/>
                                    <textFieldExpression><![CDATA[$F{montant}+" "+$P{currency}]]></textFieldExpression>
                                </textField>
                            </jr:detailCell>
                        </jr:column>
                    </jr:table>
                </componentElement>
                <textField>
                    <reportElement x="10" y="2" width="157" height="30" uuid="53dad98c-b80d-4f45-a130-737df7d4966f">
                        <property name="com.jaspersoft.studio.unit.y" value="px"/>
                        <printWhenExpression>
                            <![CDATA[$F{ts_nb} > 0 || $F{fraisadm_nb} > 0 || $F{debours_nb} > 0 || $F{colla_nb} > 0]]></printWhenExpression>
                    </reportElement>
                    <textElement>
                        <font size="16" isBold="true" isUnderline="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$P{lbl_annexe}]]></textFieldExpression>
                </textField>
            </frame>
        </band>
    </detail>
</jasperReport>
